server:
  port: 1006


jwt:
  header: Authorization
  secret: 4Hirx6BNM+kTbhOxA4cHCUz/BF0B0tokIgTRs2d5ORn3zF8fPAESoo/jXcUiBnWYoZWrxgunF3l3gvGCUi6JGQ==
  #  token-validity-in-second: 86400000 #60*60*24*1000
  token-validity-in-second: 86400 #60*60*24*1000

eureka:
  client:
    register-with-eureka: true
    fetch-registry: true
    service-url:
      defaultZone: http://127.0.0.1:8761/eureka

spring:
  application:
    name: Gateway

  cloud:
    gateway:
      default-filters:
        # 헤더의 중복을 제거하기 위한 필터
        - DedupeResponseHeader=Access-Control-Allow-Origin Access-Control-Allow-Credentials
      globalcors:
        cors-configurations:
          '[/**]':
            #테스트용 *
            allowedOrigins: 'http://127.0.0.1:3000'                       #'*'           #
            allow-credentials: true
            allowedHeaders: '*'
            allowedMethods:
              - PUT
              - GET
              - POST
              - DELETE
              - OPTIONS
            exposed-headers:
              - Authorization




      routes:
        - id: HumanResourceManagement
          uri: http://127.0.0.1:1010
          predicates:
            - Path=/employee/**
            - Method=GET
          filters:
            - JwtAuthorizationFilter

        - id: HumanResourceManagement
          uri: http://127.0.0.1:1010
          predicates:
            - Path=/employee/**


        - id: HumanResourceManagement
          uri: http://127.0.0.1:1010
          predicates:
            - Path=/company/**

        - id: Chat
          uri: http://127.0.0.1:1004
          predicates:
            - Path=/chat/**





  jpa:
    show-sql: true
    hibernate:
      # ddl-auto: create
      ddl-auto: update

    properties:
      hibernate:
        format_sql: true
        use_sql_comments: true
logging:
  level:
    org:
      hibernate:
        sql: debug
        type:
          descriptor:
            sql: trace

